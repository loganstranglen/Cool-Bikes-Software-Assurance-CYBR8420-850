## Part 1: Threat Modeling

### Data Flow Diagrams for Critical Data-flows of Cardea by Hyperledger Labs

**Health Provider – User:**

![DFD](https://github.com/pdonahue28/Cool-Bikes-Software-Assurance-CYBR8420-850/assets/144743159/fafebff1-f221-4b32-a228-79eac931fc92)

[Health Provider – User Threat Modeling Report](https://github.com/pdonahue28/Cool-Bikes-Software-Assurance-CYBR8420-850/blob/main/DFD-Diagrams/HealthProvider-User%20DFD.pdf)


**Traveler – Verifier DFD:**

![DFD](https://github.com/pdonahue28/Cool-Bikes-Software-Assurance-CYBR8420-850/assets/144743159/517942ec-a81b-439a-8c7a-cabdc538fff5)

[Traveler – User Threat Modeling Report](https://github.com/pdonahue28/Cool-Bikes-Software-Assurance-CYBR8420-850/blob/main/DFD-Diagrams/Traveler-Verifier%20DFD.pdf)

## Part 2: Observations

### Cardea Design-related issues from DFD-based Threat Analysis

### Reflection
The following links are tied to the team's repository project, showcasing our project task assignments and collaborations completed to finish this deliverable:
https://github.com/pdonahue28/Cool-Bikes-Software-Assurance-CYBR8420-850/issues/55, https://github.com/pdonahue28/Cool-Bikes-Software-Assurance-CYBR8420-850/issues/56, https://github.com/pdonahue28/Cool-Bikes-Software-Assurance-CYBR8420-850/issues/61, https://github.com/pdonahue28/Cool-Bikes-Software-Assurance-CYBR8420-850/issues/60, https://github.com/pdonahue28/Cool-Bikes-Software-Assurance-CYBR8420-850/issues/58, https://github.com/pdonahue28/Cool-Bikes-Software-Assurance-CYBR8420-850/issues/62, https://github.com/pdonahue28/Cool-Bikes-Software-Assurance-CYBR8420-850/issues/63, https://github.com/pdonahue28/Cool-Bikes-Software-Assurance-CYBR8420-850/issues/64, https://github.com/pdonahue28/Cool-Bikes-Software-Assurance-CYBR8420-850/issues/65

Through this week's project deliverable, we as a team were able to look at the design-related issues of our open-source software, Cardea. Through our three DFD diagrams, we were able to find some gaps in the software that need further investigation. 
One such gap is in the safe storage of credentials. If credentials are stolen, there’s no way the Cardea system knows that’s the case and since the user’s DID is verified against the blockchain, there is no way of changing it. Another gap we found is Outage issues. If an outage were to occur, it seems that only those who are updating and maintaining the software would have access to resolving said issue. Making the availability of the software not consistent and ultimately violating availability metrics. An additional gap we found was an issue having to do with the elevation of privilege and spoofing. If one were to have access to a rooted/jailbroken version of a smartphone, they could potentially have access to modifying Cardea files. This issue however can’t be mitigated as Cardea has no control over third parties who are acting maliciously. One more gap is that machine governance is handled by a single document granting rights in particular jurisdictions. This file is updated through propagation throughout the network from the governing agent. This propagation might be taken advantage of to change a file in the network or on a verifier to a bad actor’s desires.
Most other security flaws generated by the Microsoft Threat Modelling software either do not apply or are mitigated by the Cardea design. A lack of secure communication is mitigated by DIDComm, a direct peer-to-peer encrypted channel. Certain kinds of Denial of Service are mitigated by its being a distributed system. Using the HyperLedger Indy Network blockchain provides an unchangeable reference to validate a user’s credentials.

This week's project deliverable offered a unique challenge requiring new team-based strategies. Due to our OSS project's process overlap, the team had to separate into pairs (Ryan-Perry, Logan-Daniel, Cole-et al.) to create high-level data flow diagrams that accurately demonstrate how Cardea works. As a result, additional sidebar meetings between each team pair were established outside our standard weekly team meeting, requiring more time management and organization. Furthermore, this week's deliverable required using a new application, Microsoft's Threat Modeling Tool (TMT), which presented its unique challenges. A few team members experienced device compatibility issues with TMT that required workarounds (Perry using MacOS - leveraged virtual machines, and worked with Ryan to complete the data flow diagram & Logan: bad TMT installation, which prohibited him from conducting the threat modeling feature - worked with Daniel to complete data flow diagram). Outside of these minor issues, The Cool Bikes Software Assurance team did an excellent job completing this week's project deliverable. Our team has improved with organization and communication over the past few weeks and scheduling more time to meet and complete project-related tasks. By leveraging our team's increased efficiency, we could work around any challenges this deliverable presented and complete the deliverable in record time (avoiding last-minute work). One area of focus moving forward is to utilize the project section even more by adding more minor project milestones per team member so tasks are more transparent. Additionally, as stated in the previous deliverable, our group will maintain our three meeting times of 6:30 pm on Mondays, Thursdays, and Saturdays. Overall, we are pleased with this deliverable and enjoyed learning more about our OSS project and using a new tool in TMT. We are looking forward to completing the next deliverable.
